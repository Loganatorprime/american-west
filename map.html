<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Map - The American West</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Rye&family=Lora:wght@400;600&family=IM+Fell+English:ital@0;1&display=swap" rel="stylesheet">
    <style>
        .map-hero {
            min-height: 30vh;
            background: linear-gradient(to bottom, rgba(44, 36, 22, 0.9), rgba(101, 67, 33, 0.85)),
                        linear-gradient(135deg, #8B4513 0%, #A0522D 50%, #D2691E 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding-top: 100px;
        }

        .map-hero h1 {
            font-size: 3rem;
            color: var(--gold);
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
            letter-spacing: 3px;
        }

        .map-hero p {
            color: var(--parchment);
            font-size: 1.1rem;
            margin-top: 10px;
            font-style: italic;
        }

        .map-section {
            padding: 40px 0 60px;
            background: #2c2416;
        }

        .map-container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .map-frame {
            background: #3d2e1a;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .map-wrapper {
            position: relative;
            border: 3px solid #654321;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .map-image-container {
            position: relative;
            width: 100%;
            background: #e8dcc8;
        }

        .map-image-container img {
            width: 100%;
            height: auto;
            display: block;
        }

        .markers-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .marker {
            position: absolute;
            width: 24px;
            height: 24px;
            margin-left: -12px;
            margin-top: -12px;
            cursor: pointer;
            pointer-events: auto;
            transition: transform 0.3s ease;
            z-index: 10;
        }

        .marker:hover {
            transform: scale(1.3);
            z-index: 20;
        }

        .marker-dot {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid #f4e4bc;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5),
                        inset 0 -2px 4px rgba(0, 0, 0, 0.3);
        }

        .marker.battle .marker-dot { background: linear-gradient(135deg, #a83232, #6b1f1f); }
        .marker.gold .marker-dot { background: linear-gradient(135deg, #ffd700, #b8860b); }
        .marker.trail .marker-dot { background: linear-gradient(135deg, #6b8e23, #3d5c14); }
        .marker.town .marker-dot { background: linear-gradient(135deg, #8b4513, #5c2d0e); }
        .marker.event .marker-dot { background: linear-gradient(135deg, #cd5c5c, #8b3a3a); }

        .marker-label {
            position: absolute;
            left: 28px;
            top: 50%;
            transform: translateY(-50%);
            white-space: nowrap;
            font-family: 'IM Fell English', serif;
            font-size: 11px;
            color: #2c1810;
            text-shadow: 1px 1px 0 #f4e4bc, -1px -1px 0 #f4e4bc,
                         1px -1px 0 #f4e4bc, -1px 1px 0 #f4e4bc;
            font-weight: bold;
            pointer-events: none;
        }

        .marker-label.left {
            left: auto;
            right: 28px;
        }

        .info-panel {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 300px;
            background: linear-gradient(135deg, #f5ead6 0%, #e8dcc8 100%);
            border: 4px solid #654321;
            padding: 20px;
            box-shadow: 0 0 0 2px #b8860b,
                        5px 5px 15px rgba(0, 0, 0, 0.4);
            display: none;
            z-index: 100;
        }

        .info-panel.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .info-panel h3 {
            font-family: 'Rye', cursive;
            color: #3d2e1a;
            font-size: 1.1rem;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 2px solid #b8860b;
        }

        .info-panel .location-type {
            display: inline-block;
            padding: 3px 10px;
            font-size: 0.7rem;
            margin-bottom: 10px;
            color: #f4e4bc;
            font-family: 'Rye', cursive;
            letter-spacing: 1px;
            text-transform: uppercase;
            border-radius: 3px;
        }

        .info-panel .location-type.battle { background: #8b3a3a; }
        .info-panel .location-type.gold { background: linear-gradient(135deg, #b8860b, #daa520); color: #2c1810; }
        .info-panel .location-type.trail { background: #6b8e23; }
        .info-panel .location-type.town { background: #8b4513; }
        .info-panel .location-type.event { background: #cd5c5c; }

        .info-panel p {
            font-family: 'IM Fell English', serif;
            font-size: 0.95rem;
            line-height: 1.6;
            color: #2c1810;
        }

        .info-panel .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #654321;
            border: 2px solid #b8860b;
            width: 26px;
            height: 26px;
            border-radius: 50%;
            font-size: 1.1rem;
            cursor: pointer;
            color: #f4e4bc;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            line-height: 1;
        }

        .info-panel .close-btn:hover {
            background: #b8860b;
            color: #2c1810;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
            padding: 15px 25px;
            background: linear-gradient(135deg, #f5ead6 0%, #e8dcc8 100%);
            border: 3px solid #654321;
            box-shadow: 0 0 0 2px #b8860b;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'IM Fell English', serif;
            font-size: 0.9rem;
            color: #2c1810;
        }

        .legend-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 2px solid #f4e4bc;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .legend-dot.battle { background: linear-gradient(135deg, #a83232, #6b1f1f); }
        .legend-dot.gold { background: linear-gradient(135deg, #ffd700, #b8860b); }
        .legend-dot.trail { background: linear-gradient(135deg, #6b8e23, #3d5c14); }
        .legend-dot.town { background: linear-gradient(135deg, #8b4513, #5c2d0e); }
        .legend-dot.event { background: linear-gradient(135deg, #cd5c5c, #8b3a3a); }

        .map-instructions {
            text-align: center;
            margin-bottom: 20px;
            color: #b8860b;
            font-family: 'IM Fell English', serif;
            font-style: italic;
            font-size: 1.1rem;
        }

        .map-credit {
            text-align: center;
            margin-top: 15px;
            font-family: 'IM Fell English', serif;
            font-size: 0.85rem;
            color: #b8860b;
            font-style: italic;
        }

        .map-credit a {
            color: #daa520;
        }

        @media (max-width: 900px) {
            .info-panel {
                position: fixed;
                top: auto;
                bottom: 0;
                left: 0;
                right: 0;
                width: 100%;
                max-height: 50vh;
                overflow-y: auto;
                border-radius: 15px 15px 0 0;
            }

            .map-hero h1 {
                font-size: 2.2rem;
            }

            .marker {
                width: 20px;
                height: 20px;
                margin-left: -10px;
                margin-top: -10px;
            }

            .marker-label {
                font-size: 9px;
            }

            .legend {
                gap: 12px;
                padding: 12px 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <a href="index.html" class="logo">
                <span class="star">&#9733;</span>
                <span>The American West</span>
                <span class="star">&#9733;</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="index.html#timeline">Timeline</a></li>
                <li><a href="map.html">Map</a></li>
                <li><a href="quiz.html">Quiz</a></li>
            </ul>
        </nav>
    </header>

    <section class="map-hero">
        <div class="container">
            <h1>Map of the West</h1>
            <p>Explore the landmarks, trails, and battlefields of the frontier</p>
        </div>
    </section>

    <main class="map-section">
        <div class="map-container">
            <p class="map-instructions">Click on the markers to discover key locations in Western history</p>

            <div class="map-frame">
                <div class="map-wrapper">
                    <div class="map-image-container">
                        <!-- 1850 Political Map of the United States - Gold Rush Era -->
                        <img src="oldmap.jpg"
                             alt="1850 Political Map of the United States"
                             id="map-image">

                        <!-- Markers overlay -->
                        <div class="markers-overlay" id="markers-overlay">
                            <!-- Markers will be positioned via JavaScript -->
                        </div>
                    </div>

                    <!-- Info Panel -->
                    <div class="info-panel" id="info-panel">
                        <button class="close-btn" onclick="closeInfo()">&times;</button>
                        <span class="location-type" id="location-type">Event</span>
                        <h3 id="location-title">Location Name</h3>
                        <p id="location-desc">Description goes here.</p>
                    </div>
                </div>
            </div>

            <p class="map-credit">1850 Political Map of the United States - <a href="https://www.census.gov/library/visualizations/1850/dec/political-map.html" target="_blank">U.S. Census Bureau</a></p>

            <div class="legend">
                <div class="legend-item">
                    <span class="legend-dot battle"></span>
                    <span>Battles</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot gold"></span>
                    <span>Gold Rush Sites</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot trail"></span>
                    <span>Trail Landmarks</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot town"></span>
                    <span>Famous Towns</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot event"></span>
                    <span>Historic Events</span>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="star">&#9733;</span>
                    <span>The American West</span>
                    <span class="star">&#9733;</span>
                </div>
                <p>Exploring the history and legends of America's frontier</p>
            </div>
        </div>
    </footer>

    <!-- Music Player -->
    <div class="music-player" id="music-player">
        <audio id="bg-music" loop>
            <source src="https://archive.org/download/CowboyAndHoboSongs/01OldChisholmTrail.mp3" type="audio/mpeg">
        </audio>
        <button type="button" class="music-btn" id="music-btn" onclick="toggleMusic()">
            <span class="music-icon" id="music-icon">&#9835;</span>
            <span class="music-text" id="music-text">Play Music</span>
        </button>
    </div>

    <style>
        .music-player {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .music-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: var(--dark-wood);
            color: var(--gold);
            border: 3px solid var(--gold);
            font-family: 'Rye', cursive;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.3);
        }

        .music-btn:hover {
            background: var(--leather-brown);
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.3);
        }

        .music-btn.playing {
            background: var(--gold);
            color: var(--dark-wood);
        }

        .music-icon {
            font-size: 1.2rem;
        }

        .music-btn.playing .music-icon {
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
    </style>

    <script>
        // Marker positions calibrated to the 1883 map
        const locations = {
            promontory: {
                title: "Promontory Summit, Utah",
                type: "event",
                x: 23,
                y: 42,
                desc: "On May 10, 1869, the Central Pacific and Union Pacific railroads met here, completing the first Transcontinental Railroad. The famous Golden Spike ceremony united East and West, revolutionizing travel and commerce across America."
            },
            sutters: {
                title: "Sutter's Mill, California",
                type: "gold",
                x: 13,
                y: 45,
                labelLeft: true,
                desc: "On January 24, 1848, James W. Marshall discovered gold here, sparking the California Gold Rush. Within a year, over 300,000 '49ers' flooded into California, transforming the region and accelerating westward expansion."
            },
            tombstone: {
                title: "Tombstone, Arizona",
                type: "town",
                x: 21,
                y: 62,
                desc: "Founded in 1879, Tombstone became one of the most famous mining towns of the Old West. It was here on October 26, 1881, that the Gunfight at the O.K. Corral took place between the Earp brothers and the Clanton-McLaury gang."
            },
            littlebighorn: {
                title: "Little Bighorn, Montana",
                type: "battle",
                x: 27,
                y: 28,
                desc: "On June 25-26, 1876, Lt. Col. George Custer and his 7th Cavalry were defeated by Lakota, Northern Cheyenne, and Arapaho forces led by Sitting Bull and Crazy Horse. This battle marked the height of Native American resistance."
            },
            woundedknee: {
                title: "Wounded Knee, South Dakota",
                type: "battle",
                x: 35,
                y: 33,
                desc: "On December 29, 1890, U.S. Army troops killed over 250 Lakota men, women, and children at Wounded Knee Creek. This tragic massacre effectively ended the Indian Wars and Native American armed resistance."
            },
            alamo: {
                title: "The Alamo, Texas",
                type: "battle",
                x: 37,
                y: 72,
                desc: "From February 23 to March 6, 1836, approximately 200 Texan defenders held this former Spanish mission against thousands of Mexican troops. Though all defenders were killed, 'Remember the Alamo!' became a rallying cry for Texas independence."
            },
            dodge: {
                title: "Dodge City, Kansas",
                type: "town",
                x: 38,
                y: 48,
                desc: "Known as the 'Wickedest Little City in America,' Dodge City was the quintessential cowtown of the 1870s-80s. At the end of the cattle drives on the Chisholm Trail, cowboys, gamblers, and gunslingers filled its famous saloons."
            },
            deadwood: {
                title: "Deadwood, South Dakota",
                type: "town",
                x: 34,
                y: 31,
                desc: "Founded in 1876 during the Black Hills Gold Rush, Deadwood attracted fortune seekers, outlaws, and legends. Wild Bill Hickok was shot and killed here in 1876, and Calamity Jane made it her home."
            },
            denver: {
                title: "Denver, Colorado",
                type: "town",
                x: 30,
                y: 46,
                desc: "Founded in 1858 during the Pike's Peak Gold Rush, Denver grew from a mining camp into the 'Queen City of the Plains.' It became a major supply hub for miners heading into the Rocky Mountains."
            },
            santafe: {
                title: "Santa Fe, New Mexico",
                type: "trail",
                x: 27,
                y: 56,
                desc: "One of the oldest cities in the U.S., Santa Fe was the terminus of the famous Santa Fe Trail. This 900-mile trade route connected Missouri to the Southwest, bringing goods, settlers, and cultures together."
            },
            independence: {
                title: "Independence, Missouri",
                type: "trail",
                x: 44,
                y: 47,
                desc: "Known as the 'Queen City of the Trails,' Independence was the starting point for the Oregon, California, and Santa Fe trails. Thousands of pioneers gathered here to stock up before their westward journey."
            },
            virginiacitynv: {
                title: "Virginia City, Nevada",
                type: "gold",
                x: 16,
                y: 43,
                desc: "Site of the legendary Comstock Lode discovered in 1859, Virginia City became one of the richest silver mining towns in the West. At its peak, it was the most important city between Denver and San Francisco."
            },
            laramie: {
                title: "Fort Laramie, Wyoming",
                type: "trail",
                x: 30,
                y: 38,
                desc: "Originally a fur trading post, Fort Laramie became a crucial supply stop and military outpost on the Oregon Trail. It was also the site of important treaties with Native American tribes."
            },
            sanfrancisco: {
                title: "San Francisco, California",
                type: "town",
                x: 10,
                y: 47,
                labelLeft: true,
                desc: "The Gold Rush transformed San Francisco from a small settlement into a booming city. By 1850, it was the largest city in the West, serving as the gateway for prospectors and the center of western commerce."
            }
        };

        function createMarkers() {
            const overlay = document.getElementById('markers-overlay');
            overlay.innerHTML = '';

            for (const [id, loc] of Object.entries(locations)) {
                const marker = document.createElement('div');
                marker.className = `marker ${loc.type}`;
                marker.style.left = `${loc.x}%`;
                marker.style.top = `${loc.y}%`;
                marker.onclick = () => showInfo(id);

                const dot = document.createElement('div');
                dot.className = 'marker-dot';
                marker.appendChild(dot);

                const label = document.createElement('span');
                label.className = `marker-label${loc.labelLeft ? ' left' : ''}`;
                label.textContent = loc.title.split(',')[0];
                marker.appendChild(label);

                overlay.appendChild(marker);
            }
        }

        function showInfo(locationId) {
            const location = locations[locationId];
            const panel = document.getElementById('info-panel');
            const typeEl = document.getElementById('location-type');
            const titleEl = document.getElementById('location-title');
            const descEl = document.getElementById('location-desc');

            titleEl.textContent = location.title;
            descEl.textContent = location.desc;

            typeEl.textContent = location.type.charAt(0).toUpperCase() + location.type.slice(1);
            typeEl.className = 'location-type ' + location.type;

            panel.classList.add('active');
        }

        function closeInfo() {
            document.getElementById('info-panel').classList.remove('active');
        }

        function toggleMusic() {
            const music = document.getElementById('bg-music');
            const btn = document.getElementById('music-btn');
            const text = document.getElementById('music-text');

            if (music.paused) {
                music.play();
                btn.classList.add('playing');
                text.textContent = 'Pause';
            } else {
                music.pause();
                btn.classList.remove('playing');
                text.textContent = 'Play Music';
            }
        }

        // Initialize markers when page loads
        document.addEventListener('DOMContentLoaded', createMarkers);

        // Close panel when clicking outside
        document.querySelector('.map-wrapper').addEventListener('click', function(e) {
            if (!e.target.closest('.marker') && !e.target.closest('.info-panel')) {
                closeInfo();
            }
        });
    </script>
</body>
</html>
